{"ast":null,"code":"var _jsxFileName = \"/Users/JOJO/Documents/devArea/inProgress/mapstats/client/src/components/ApplicationHeatMap/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport { format, parseISO, eachDayOfInterval, subDays, differenceInDays } from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ApplicationHeatmap = ({\n  applications\n}) => {\n  _s();\n  // Calculer la plage de dates (1 an)\n  const endDate = new Date();\n  const startDate = subDays(endDate, 365);\n\n  // Grouper les candidatures par date\n  const applicationsByDate = useMemo(() => {\n    const grouped = {};\n    applications.forEach(app => {\n      const date = format(parseISO(app.dateCreation.$date), \"yyyy-MM-dd\");\n      grouped[date] = (grouped[date] || 0) + 1;\n    });\n    return grouped;\n  }, [applications]);\n\n  // Obtenir le nombre maximum de candidatures en une journée\n  const maxApplications = Math.max(...Object.values(applicationsByDate), 1);\n\n  // Générer toutes les dates de l'intervalle\n  const allDates = eachDayOfInterval({\n    start: startDate,\n    end: endDate\n  });\n\n  // Fonction pour déterminer la couleur en fonction du nombre de candidatures\n  const getColor = count => {\n    if (count === 0) return \"bg-gray-100\";\n    const intensity = count / maxApplications * 100;\n    if (intensity <= 25) return \"bg-green-100\";\n    if (intensity <= 50) return \"bg-green-300\";\n    if (intensity <= 75) return \"bg-green-500\";\n    return \"bg-green-700\";\n  };\n\n  // Grouper les dates par semaine\n  const weeks = [];\n  let currentWeek = [];\n  allDates.forEach(date => {\n    if (currentWeek.length === 7) {\n      weeks.push(currentWeek);\n      currentWeek = [];\n    }\n    currentWeek.push(date);\n  });\n  if (currentWeek.length > 0) {\n    weeks.push(currentWeek);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-1 ml-8\",\n        children: [\"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\", \"Dim\"].map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 text-xs text-gray-500\",\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-1\",\n        children: weeks.map((week, weekIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 text-xs text-gray-500 flex items-center\",\n            children: week[0] && week[0].getDate() <= 7 && format(week[0], \"MMM\", {\n              locale: fr\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), week.map(date => {\n            const dateStr = format(date, \"yyyy-MM-dd\");\n            const count = applicationsByDate[dateStr] || 0;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-4 h-4 rounded-sm ${getColor(count)} cursor-pointer transition-colors duration-200`,\n              title: `${format(date, \"dd MMMM yyyy\", {\n                locale: fr\n              })}\n${count} candidature${count > 1 ? \"s\" : \"\"}`\n            }, dateStr, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this);\n          })]\n        }, weekIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 mt-4 text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Moins\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 rounded-sm bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 rounded-sm bg-green-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 rounded-sm bg-green-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 rounded-sm bg-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4 rounded-sm bg-green-700\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Plus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(ApplicationHeatmap, \"hGXy/HrChcVwDgxeegkzXLs4XuE=\");\n_c = ApplicationHeatmap;\nexport default ApplicationHeatmap;\nvar _c;\n$RefreshReg$(_c, \"ApplicationHeatmap\");","map":{"version":3,"names":["React","useMemo","format","parseISO","eachDayOfInterval","subDays","differenceInDays","fr","jsxDEV","_jsxDEV","ApplicationHeatmap","applications","_s","endDate","Date","startDate","applicationsByDate","grouped","forEach","app","date","dateCreation","$date","maxApplications","Math","max","Object","values","allDates","start","end","getColor","count","intensity","weeks","currentWeek","length","push","className","children","map","day","fileName","_jsxFileName","lineNumber","columnNumber","week","weekIndex","getDate","locale","dateStr","title","_c","$RefreshReg$"],"sources":["/Users/JOJO/Documents/devArea/inProgress/mapstats/client/src/components/ApplicationHeatMap/index.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport {\n  format,\n  parseISO,\n  eachDayOfInterval,\n  subDays,\n  differenceInDays,\n} from \"date-fns\";\nimport { fr } from \"date-fns/locale\";\n\nconst ApplicationHeatmap = ({ applications }) => {\n  // Calculer la plage de dates (1 an)\n  const endDate = new Date();\n  const startDate = subDays(endDate, 365);\n\n  // Grouper les candidatures par date\n  const applicationsByDate = useMemo(() => {\n    const grouped = {};\n    applications.forEach((app) => {\n      const date = format(parseISO(app.dateCreation.$date), \"yyyy-MM-dd\");\n      grouped[date] = (grouped[date] || 0) + 1;\n    });\n    return grouped;\n  }, [applications]);\n\n  // Obtenir le nombre maximum de candidatures en une journée\n  const maxApplications = Math.max(...Object.values(applicationsByDate), 1);\n\n  // Générer toutes les dates de l'intervalle\n  const allDates = eachDayOfInterval({ start: startDate, end: endDate });\n\n  // Fonction pour déterminer la couleur en fonction du nombre de candidatures\n  const getColor = (count) => {\n    if (count === 0) return \"bg-gray-100\";\n    const intensity = (count / maxApplications) * 100;\n    if (intensity <= 25) return \"bg-green-100\";\n    if (intensity <= 50) return \"bg-green-300\";\n    if (intensity <= 75) return \"bg-green-500\";\n    return \"bg-green-700\";\n  };\n\n  // Grouper les dates par semaine\n  const weeks = [];\n  let currentWeek = [];\n\n  allDates.forEach((date) => {\n    if (currentWeek.length === 7) {\n      weeks.push(currentWeek);\n      currentWeek = [];\n    }\n    currentWeek.push(date);\n  });\n  if (currentWeek.length > 0) {\n    weeks.push(currentWeek);\n  }\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"flex flex-col gap-1\">\n        {/* En-tête des jours */}\n        <div className=\"flex gap-1 ml-8\">\n          {[\"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\", \"Dim\"].map((day) => (\n            <div key={day} className=\"w-4 text-xs text-gray-500\">\n              {day}\n            </div>\n          ))}\n        </div>\n\n        {/* Grille des contributions */}\n        <div className=\"flex flex-col gap-1\">\n          {weeks.map((week, weekIndex) => (\n            <div key={weekIndex} className=\"flex gap-1\">\n              {/* Afficher le mois au début de chaque semaine */}\n              <div className=\"w-8 text-xs text-gray-500 flex items-center\">\n                {week[0] &&\n                  week[0].getDate() <= 7 &&\n                  format(week[0], \"MMM\", { locale: fr })}\n              </div>\n              {week.map((date) => {\n                const dateStr = format(date, \"yyyy-MM-dd\");\n                const count = applicationsByDate[dateStr] || 0;\n                return (\n                  <div\n                    key={dateStr}\n                    className={`w-4 h-4 rounded-sm ${getColor(\n                      count\n                    )} cursor-pointer transition-colors duration-200`}\n                    title={`${format(date, \"dd MMMM yyyy\", { locale: fr })}\n${count} candidature${count > 1 ? \"s\" : \"\"}`}\n                  />\n                );\n              })}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Légende */}\n      <div className=\"flex items-center gap-2 mt-4 text-sm text-gray-600\">\n        <span>Moins</span>\n        <div className=\"flex gap-1\">\n          <div className=\"w-4 h-4 rounded-sm bg-gray-100\" />\n          <div className=\"w-4 h-4 rounded-sm bg-green-100\" />\n          <div className=\"w-4 h-4 rounded-sm bg-green-300\" />\n          <div className=\"w-4 h-4 rounded-sm bg-green-500\" />\n          <div className=\"w-4 h-4 rounded-sm bg-green-700\" />\n        </div>\n        <span>Plus</span>\n      </div>\n    </div>\n  );\n};\n\nexport default ApplicationHeatmap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}